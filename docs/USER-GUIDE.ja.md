# MUSUBIX ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰

> Neuro-Symbolic AI ã«ã‚ˆã‚‹ä»•æ§˜é§†å‹•é–‹ç™ºã‚·ã‚¹ãƒ†ãƒ 

## ç›®æ¬¡

1. [ã¯ã˜ã‚ã«](#ã¯ã˜ã‚ã«)
2. [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
3. [CLIã®ä½¿ã„æ–¹](#cliã®ä½¿ã„æ–¹)
4. [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
5. [åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
6. [è¦ä»¶ãƒ•ã‚§ãƒ¼ã‚º](#è¦ä»¶ãƒ•ã‚§ãƒ¼ã‚º)
7. [è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º](#è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º)
8. [ã‚¿ã‚¹ã‚¯ãƒ•ã‚§ãƒ¼ã‚º](#ã‚¿ã‚¹ã‚¯ãƒ•ã‚§ãƒ¼ã‚º)
9. [æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚º](#æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚º)
10. [è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ](#è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ )
11. [C4ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ](#c4ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ)
12. [ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯æ¨è«–](#ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯æ¨è«–) *(v1.2.0)*
13. [æ­£èª¤æ€§æ¤œè¨¼](#æ­£èª¤æ€§æ¤œè¨¼) *(v1.4.1)*
14. [é«˜åº¦ãªæ¨è«–](#é«˜åº¦ãªæ¨è«–) *(v1.4.5)*
15. [å¯¾è©±çš„REPLãƒ¢ãƒ¼ãƒ‰](#å¯¾è©±çš„replãƒ¢ãƒ¼ãƒ‰) *(v1.5.0)*
16. [YATA Local](#yata-local) *(v1.6.3)*
17. [YATA Global](#yata-global) *(v1.6.3)*
18. [KGPR - Knowledge Graph Pull Request](#kgpr---knowledge-graph-pull-request) *(v1.6.4)*
19. [YATA ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ](#yata-ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ) *(v1.7.0)*
20. [å½¢å¼æ¤œè¨¼](#å½¢å¼æ¤œè¨¼) *(v1.7.5)*
21. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ](#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ) *(v1.8.0)*
22. [MCPã‚µãƒ¼ãƒãƒ¼é€£æº](#mcpã‚µãƒ¼ãƒãƒ¼é€£æº)
23. [YATAçŸ¥è­˜ã‚°ãƒ©ãƒ•](#yataçŸ¥è­˜ã‚°ãƒ©ãƒ•)
24. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
25. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ã¯ã˜ã‚ã«

### MUSUBIXã¨ã¯ï¼Ÿ

MUSUBIXã¯ã€**MUSUBI**ï¼ˆä»•æ§˜é§†å‹•é–‹ç™ºLLMï¼‰ã¨**YATA**ï¼ˆçŸ¥è­˜ã‚°ãƒ©ãƒ•ï¼‰ã‚’çµ„ã¿åˆã‚ã›ãŸ**ãƒ‹ãƒ¥ãƒ¼ãƒ­ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯AIã‚·ã‚¹ãƒ†ãƒ **ã§ã™ã€‚

```
MUSUBIX = MUSUBI (LLM) + YATA (Knowledge Graph)
```

### ä¸»ãªç‰¹å¾´

- ğŸ¯ **ä»•æ§˜é§†å‹•é–‹ç™º**: EARSå½¢å¼ã®è¦ä»¶ã‹ã‚‰å®Ÿè£…ã¾ã§ä¸€è²«ã—ãŸé–‹ç™º
- ğŸ›ï¸ **9æ¡æ†²æ³•**: å“è³ªã‚’ä¿è¨¼ã™ã‚‹9ã¤ã®åŸå‰‡ã«åŸºã¥ãé–‹ç™º
- ğŸ”— **å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£**: è¦ä»¶â†’è¨­è¨ˆâ†’ã‚¿ã‚¹ã‚¯â†’ãƒ†ã‚¹ãƒˆã®è¿½è·¡
- ğŸ§  **çŸ¥è­˜ã‚°ãƒ©ãƒ•çµ±åˆ**: YATAã«ã‚ˆã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèªè­˜
- ğŸŒ **MCPå¯¾å¿œ**: Model Context Protocol ã«ã‚ˆã‚‹æŸ”è»Ÿãªçµ±åˆ

### 9æ¡æ†²æ³•ï¼ˆConstitutional Articlesï¼‰

| æ¡é … | åç§° | èª¬æ˜ |
|------|------|------|
| I | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ¢ãƒª | ä¸€è²«ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç¶­æŒ |
| II | è¦ä»¶ä»•æ§˜ | EARSå½¢å¼ã®å®Œå…¨ãªè¦ä»¶å®šç¾© |
| III | è¨­è¨ˆæ–‡æ›¸ | C4ãƒ¢ãƒ‡ãƒ« + ADRã«ã‚ˆã‚‹è¨­è¨ˆ |
| IV | ã‚¿ã‚¹ã‚¯åˆ†è§£ | ãƒˆãƒ¬ãƒ¼ã‚µãƒ–ãƒ«ãªã‚¿ã‚¹ã‚¯ç”Ÿæˆ |
| V | ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ | åŒæ–¹å‘ã®è¿½è·¡æ€§ |
| VI | èª¬æ˜å¯èƒ½æ€§ | AIåˆ¤æ–­ã®é€æ˜æ€§ |
| VII | çµ±åˆæ€§ | ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªçµ±åˆ |
| VIII | é©å¿œæ€§ | æŸ”è»Ÿãªæ–¹æ³•è«–å¯¾å¿œ |
| IX | å“è³ªä¿è¨¼ | ç¶™ç¶šçš„ãªå“è³ªç¢ºä¿ |

---

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å‰ææ¡ä»¶

| é …ç›® | è¦ä»¶ |
|------|------|
| **Node.js** | >= 20.0.0 |
| **npm** | >= 10.0.0 |
| **TypeScript** | >= 5.3ï¼ˆé–‹ç™ºæ™‚ï¼‰ |

### æ–¹æ³•1: npm ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰

```bash
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g musubix

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
musubix --version
musubix-mcp --version
```

### æ–¹æ³•2: npx ã§ç›´æ¥å®Ÿè¡Œ

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãªã—ã§å®Ÿè¡Œ
npx musubix --help
npx musubix init my-project

# MCPã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npx @nahisaho/musubix-mcp-server
npx musubix-mcp --transport stdio
```

### æ–¹æ³•3: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# å€‹åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install @nahisaho/musubix-core
npm install @nahisaho/musubix-mcp-server
npm install @nahisaho/musubix-yata-client  # YATAé€£æºç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

### æ–¹æ³•4: ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ“ãƒ«ãƒ‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/nahisaho/MUSUBIX.git
cd MUSUBIX

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« & ãƒ“ãƒ«ãƒ‰
npm install
npm run build
```

### YATA ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

çŸ¥è­˜ã‚°ãƒ©ãƒ•æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€YATA ã‚’åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š

```bash
# YATA ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/nahisaho/YATA.git
cd YATA

# uv ã§ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync --all-packages

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
uv run yata serve
```

è©³ç´°ã¯ [INSTALL-GUIDE.ja.md](INSTALL-GUIDE.ja.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

```bash
# MUSUBIXãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
musubix init my-project
# ã¾ãŸã¯
npx musubix init my-project

# steering ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèª
ls steering/
# product.md  structure.md  tech.md  rules/
```

---

## CLIã®ä½¿ã„æ–¹

### musubix ã‚³ãƒãƒ³ãƒ‰

MUSUBIXã®ãƒ¡ã‚¤ãƒ³CLIï¼š

```bash
# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
musubix --help

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤º
musubix --version

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
musubix init [path] [options]

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³
#   --name <name>      ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
#   --template <type>  ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆdefault, minimal, fullï¼‰
#   --force            æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã
#   --json             JSONå½¢å¼ã§å‡ºåŠ›
#   --verbose          è©³ç´°å‡ºåŠ›
```

### musubix-mcp ã‚³ãƒãƒ³ãƒ‰

MCPã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•ï¼š

```bash
# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
musubix-mcp --help

# stdio ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
musubix-mcp
musubix-mcp --transport stdio

# SSE ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
musubix-mcp --transport sse --port 8080
```

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|-----------|------|
| `-t, --transport` | ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆ: `stdio` ã¾ãŸã¯ `sse` |
| `-p, --port` | SSE ãƒ¢ãƒ¼ãƒ‰ã®ãƒãƒ¼ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3000ï¼‰ |
| `-h, --help` | ãƒ˜ãƒ«ãƒ—è¡¨ç¤º |
| `-v, --version` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤º |

---

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 5åˆ†ã§å§‹ã‚ã‚‹MUSUBIX

```typescript
import {
  createRequirementsAnalyzer,
  createC4ModelGenerator,
  createTaskGenerator,
  createConstitutionalValidator
} from '@nahisaho/musubix-core';

// 1. è¦ä»¶ã®åˆ†æ
const analyzer = createRequirementsAnalyzer();
const requirement = analyzer.analyze(`
  ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã€
  ã‚·ã‚¹ãƒ†ãƒ ã¯èªè¨¼ç”»é¢ã‚’è¡¨ç¤ºã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
`);

console.log('è¦ä»¶ID:', requirement.id);
console.log('ã‚¿ã‚¤ãƒ—:', requirement.type);

// 2. è¨­è¨ˆã®ç”Ÿæˆ
const c4Generator = createC4ModelGenerator();
const diagram = c4Generator.generateContext({
  name: 'èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ',
  description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’ç®¡ç†ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ '
});

console.log('C4å›³:', diagram.export('mermaid'));

// 3. ã‚¿ã‚¹ã‚¯ã®ç”Ÿæˆ
const taskGenerator = createTaskGenerator();
const tasks = taskGenerator.generate([requirement]);

console.log('ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯:', tasks.length);

// 4. æ¤œè¨¼
const validator = createConstitutionalValidator();
const result = validator.validate(requirement);

console.log('æ¤œè¨¼çµæœ:', result.valid ? 'åˆæ ¼' : 'ä¸åˆæ ¼');
```

---

## åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### SDDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SDDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â‘  ã‚¹ãƒ†ã‚¢ãƒªãƒ³ã‚°     ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®è¨­å®š          â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘¡ è¦ä»¶å®šç¾©        EARSå½¢å¼ã§è¦ä»¶ã‚’è¨˜è¿°                     â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘¢ è¨­è¨ˆ            C4ãƒ¢ãƒ‡ãƒ« + ADRã®ä½œæˆ                     â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘£ ã‚¿ã‚¹ã‚¯ç”Ÿæˆ      å®Ÿè£…ã‚¿ã‚¹ã‚¯ã¸ã®åˆ†è§£                       â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘¤ å®Ÿè£…            ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»é–‹ç™º                         â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘¥ æ¤œè¨¼            æ†²æ³•ã«åŸºã¥ãæ¤œè¨¼                         â”‚
â”‚       â†“                                                      â”‚
â”‚  â‘¦ ãƒ¬ãƒ“ãƒ¥ãƒ¼        å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆ                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¹ãƒ†ã‚¢ãƒªãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºç›¤ã¨ãªã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼š

```
steering/
â”œâ”€â”€ product.md      # ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆæƒ…å ±
â”œâ”€â”€ structure.md    # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³
â”œâ”€â”€ tech.md         # æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
â””â”€â”€ rules/
    â””â”€â”€ constitution.md  # 9æ¡æ†²æ³•
```

---

## è¦ä»¶ãƒ•ã‚§ãƒ¼ã‚º

### EARSå½¢å¼ã«ã‚ˆã‚‹è¦ä»¶å®šç¾©

**EARS (Easy Approach to Requirements Syntax)** ã¯ã€æ˜ç¢ºã§æ¤œè¨¼å¯èƒ½ãªè¦ä»¶ã‚’æ›¸ããŸã‚ã®å½¢å¼ã§ã™ã€‚

#### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

```
[æ¡ä»¶] [ä¸»èª] [åŠ©å‹•è©] [å‹•ä½œ] [ç›®çš„èª]
```

#### ä¾‹

```
ã€æ©Ÿèƒ½è¦ä»¶ã€‘
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã§æ­£ã—ã„èªè¨¼æƒ…å ±ã‚’å…¥åŠ›ã—ãŸã¨ãã€
ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢ã‚’è¡¨ç¤ºã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚

ã€éæ©Ÿèƒ½è¦ä»¶ã€‘
ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã™ã¹ã¦ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦
500ãƒŸãƒªç§’ä»¥å†…ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã•ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚

ã€åˆ¶ç´„ã€‘
ã‚·ã‚¹ãƒ†ãƒ ã¯ã€å€‹äººæƒ…å ±ä¿è­·æ³•ã«æº–æ‹ ã—ã¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æš—å·åŒ–ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
```

### RequirementsAnalyzer ã®ä½¿ç”¨

```typescript
import { createRequirementsAnalyzer } from '@nahisaho/musubix-core';

const analyzer = createRequirementsAnalyzer({
  strictMode: true,    // å³å¯†ãªæ¤œè¨¼
  validateEARS: true,  // EARSå½¢å¼ã®æ¤œè¨¼
  autoClassify: true   // è‡ªå‹•åˆ†é¡
});

// è¦ä»¶ãƒ†ã‚­ã‚¹ãƒˆã®åˆ†æ
const result = analyzer.analyze(`
  ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå•†å“ã‚’ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ãŸã¨ãã€
  ã‚·ã‚¹ãƒ†ãƒ ã¯ã‚«ãƒ¼ãƒˆå†…ã®åˆè¨ˆé‡‘é¡ã‚’æ›´æ–°ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
`);

console.log('ID:', result.id);           // REQ-001
console.log('ã‚¿ã‚¤ãƒ—:', result.type);     // functional
console.log('å„ªå…ˆåº¦:', result.priority); // must
```

### RequirementsDecomposer ã®ä½¿ç”¨

è¤‡é›‘ãªè¦ä»¶ã‚’å°ã•ãªå˜ä½ã«åˆ†è§£ï¼š

```typescript
import { createRequirementsDecomposer } from '@nahisaho/musubix-core';

const decomposer = createRequirementsDecomposer({
  maxDepth: 4,        // æœ€å¤§åˆ†è§£æ·±åº¦
  targetUnitSize: 4   // ç›®æ¨™å˜ä½ã‚µã‚¤ã‚ºï¼ˆæ™‚é–“ï¼‰
});

const result = decomposer.decompose(requirement, 'functional');

console.log('åˆ†è§£å˜ä½æ•°:', result.units.length);
console.log('æ¨å®šç·å·¥æ•°:', result.stats.estimatedTotalEffort);

// Markdownã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const markdown = decomposer.exportMarkdown(result);
```

---

## è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º

### C4ãƒ¢ãƒ‡ãƒ«ã®ç”Ÿæˆ

C4ãƒ¢ãƒ‡ãƒ«ã¯4ã¤ã®ãƒ¬ãƒ™ãƒ«ã§ã‚·ã‚¹ãƒ†ãƒ ã‚’è¡¨ç¾ã—ã¾ã™ï¼š

1. **Context**: ã‚·ã‚¹ãƒ†ãƒ ã®å¢ƒç•Œã¨å¤–éƒ¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
2. **Container**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®æ§‹æˆ
3. **Component**: ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
4. **Code**: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®è©³ç´°

```typescript
import { createC4ModelGenerator } from '@nahisaho/musubix-core';

const generator = createC4ModelGenerator({
  defaultFormat: 'mermaid'
});

// ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³ã®ç”Ÿæˆ
const contextDiagram = generator.generateContext({
  name: 'Eã‚³ãƒãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ',
  description: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ',
  actors: [
    { name: 'é¡§å®¢', description: 'å•†å“ã‚’è³¼å…¥ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼' },
    { name: 'ç®¡ç†è€…', description: 'ã‚·ã‚¹ãƒ†ãƒ ã‚’ç®¡ç†ã™ã‚‹ã‚¹ã‚¿ãƒƒãƒ•' }
  ],
  externalSystems: [
    { name: 'æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ', description: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆ' },
    { name: 'é…é€ã‚·ã‚¹ãƒ†ãƒ ', description: 'ç‰©æµç®¡ç†' }
  ]
});

// Mermaidã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
console.log(generator.export(contextDiagram, 'mermaid'));
```

### ADRï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šè¨˜éŒ²ï¼‰

é‡è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šã‚’è¨˜éŒ²ï¼š

```typescript
import { createADRGenerator } from '@nahisaho/musubix-core';

const adrGenerator = createADRGenerator({
  template: 'madr',
  outputFormat: 'markdown'
});

const adr = adrGenerator.generate({
  title: 'TypeScriptã®æ¡ç”¨',
  status: 'accepted',
  context: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨€èªé¸å®šãŒå¿…è¦',
  decision: 'TypeScriptã‚’æ¡ç”¨ã™ã‚‹',
  rationale: 'å‹å®‰å…¨æ€§ã¨IDEã‚µãƒãƒ¼ãƒˆã®å‘ä¸Š',
  consequences: {
    positive: ['ãƒã‚°ã®æ—©æœŸç™ºè¦‹', 'ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®¹æ˜“ã•'],
    negative: ['å­¦ç¿’ã‚³ã‚¹ãƒˆ', 'ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®å¢—åŠ ']
  },
  alternatives: [
    { name: 'JavaScript', reason: 'å‹ãŒãªã„ãŸã‚å´ä¸‹' },
    { name: 'Flow', reason: 'ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„ãŸã‚å´ä¸‹' }
  ]
});

console.log(adr.export());
```

---

## ã‚¿ã‚¹ã‚¯ãƒ•ã‚§ãƒ¼ã‚º

### ã‚¿ã‚¹ã‚¯ã®è‡ªå‹•ç”Ÿæˆ

è¦ä»¶ã‹ã‚‰å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’ç”Ÿæˆï¼š

```typescript
import { createTaskGenerator } from '@nahisaho/musubix-core';

const taskGenerator = createTaskGenerator({
  estimateEffort: true,   // å·¥æ•°è¦‹ç©ã‚‚ã‚Š
  includeTests: true,     // ãƒ†ã‚¹ãƒˆã‚¿ã‚¹ã‚¯ã‚’å«ã‚€
  assignmentStrategy: 'balanced'
});

const tasks = taskGenerator.generate(requirements);

for (const task of tasks) {
  console.log(`
    ã‚¿ã‚¹ã‚¯: ${task.id}
    ã‚¿ã‚¤ãƒˆãƒ«: ${task.title}
    è¦ä»¶å‚ç…§: ${task.requirementRef}
    æ¨å®šå·¥æ•°: ${task.estimatedHours}æ™‚é–“
    ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${task.status}
  `);
}
```

### ã‚¿ã‚¹ã‚¯ã®å„ªå…ˆé †ä½ä»˜ã‘

```typescript
// å„ªå…ˆé †ä½ä»˜ã‘
const prioritized = taskGenerator.prioritize(tasks, {
  criteria: ['dependency', 'risk', 'value'],
  weights: [0.4, 0.3, 0.3]
});

console.log('å„ªå…ˆåº¦é †ã‚¿ã‚¹ã‚¯:');
prioritized.forEach((task, index) => {
  console.log(`${index + 1}. ${task.title} (ã‚¹ã‚³ã‚¢: ${task.priorityScore})`);
});
```

---

## æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚º

### æ†²æ³•ã«åŸºã¥ãæ¤œè¨¼

```typescript
import { createConstitutionalValidator } from '@nahisaho/musubix-core';

const validator = createConstitutionalValidator({
  strictMode: true,
  articles: ['all']  // ã™ã¹ã¦ã®æ¡é …ã‚’æ¤œè¨¼
});

const result = validator.validate(artifact);

console.log('æ¤œè¨¼çµæœ:', result.valid ? 'âœ… åˆæ ¼' : 'âŒ ä¸åˆæ ¼');
console.log('ã‚¹ã‚³ã‚¢:', result.score);
console.log('ã‚¨ãƒ©ãƒ¼æ•°:', result.errors.length);
console.log('è­¦å‘Šæ•°:', result.warnings.length);

// è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
if (!result.valid) {
  for (const error of result.errors) {
    console.log(`
      æ¡é …: ${error.article}
      ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ${error.message}
      æ¨å¥¨å¯¾å¿œ: ${error.recommendation}
    `);
  }
}
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¢ºèª

```typescript
console.log('ã‚«ãƒãƒ¬ãƒƒã‚¸:');
console.log(`  è¦ä»¶: ${result.coverage.requirements}%`);
console.log(`  è¨­è¨ˆ: ${result.coverage.design}%`);
console.log(`  ã‚¿ã‚¹ã‚¯: ${result.coverage.tasks}%`);
console.log(`  ãƒ†ã‚¹ãƒˆ: ${result.coverage.tests}%`);
```

---

## è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ 

MUSUBIXã«ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡ºã«ã‚ˆã‚Šæ”¹å–„ã‚’ç¶šã‘ã‚‹è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

### å­¦ç¿’CLIã‚³ãƒãƒ³ãƒ‰

```bash
# å­¦ç¿’çŠ¶æ…‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¡¨ç¤º
musubix learn status

# æˆæœç‰©ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¨˜éŒ²
musubix learn feedback <artifact-id> --type accept|reject|modify --artifact-type requirement|design|code|test --reason "èª¬æ˜"

# å­¦ç¿’æ¸ˆã¿ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º
musubix learn patterns

# ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ‰‹å‹•ç™»éŒ²
musubix learn add-pattern <name> --category code|design|requirement|test --action prefer|avoid --description "ãƒ‘ã‚¿ãƒ¼ãƒ³ã®èª¬æ˜"

# ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‰Šé™¤
musubix learn remove-pattern <pattern-id>

# ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®æ¨å¥¨ã‚’å–å¾—
musubix learn recommend --artifact-type code

# æœªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¸›è¡°ã‚’é©ç”¨
musubix learn decay

# å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆv1.4.0 æ‹¡å¼µï¼‰
musubix learn export --output learning-data.json
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
#   --privacy-filter         æ©Ÿå¯†æƒ…å ±ã‚’é™¤å»ï¼ˆAPIã‚­ãƒ¼ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç­‰ï¼‰
#   --patterns-only          ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
#   --feedback-only          ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ã¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
#   --min-confidence <n>     æœ€å°ä¿¡é ¼åº¦ï¼ˆ0-1ï¼‰

# å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆv1.4.0 ãƒãƒ¼ã‚¸æˆ¦ç•¥å¯¾å¿œï¼‰
musubix learn import learning-data.json
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
#   --merge-strategy <skip|overwrite|merge>  é‡è¤‡ã®å‡¦ç†æ–¹æ³•
#   --dry-run                                å¤‰æ›´ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
#   --patterns-only                          ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
#   --feedback-only                          ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ã®ä½¿ç”¨

```typescript
import { createLearningEngine } from '@nahisaho/musubix-core';

const learningEngine = createLearningEngine();

// ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¨˜éŒ²
await learningEngine.recordFeedback({
  type: 'accept',
  artifactType: 'code',
  artifactId: 'AUTH-001',
  reason: 'JWTèªè¨¼ã®è‰¯ã„å®Ÿè£…'
});

// æ¨å¥¨ã‚’å–å¾—
const recommendations = await learningEngine.getRecommendations({
  artifactType: 'code',
  context: 'authentication'
});

// å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const data = await learningEngine.exportData();
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡º

é¡ä¼¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒè¤‡æ•°å›ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé–¾å€¤ï¼š3å›ï¼‰è¨˜éŒ²ã•ã‚Œã‚‹ã¨ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè‡ªå‹•çš„ã«æŠ½å‡ºã•ã‚Œã¾ã™ã€‚

```typescript
// ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯å‡ºç¾ã”ã¨ã«ä¿¡é ¼åº¦ãŒä¸Šæ˜‡
// é«˜ä¿¡é ¼åº¦ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆâ‰¥70%ï¼‰ã¯æ¨å¥¨ã«è¡¨ç¤ºã•ã‚Œã‚‹
const stats = await learningEngine.getStats();
console.log(`ç·ãƒ‘ã‚¿ãƒ¼ãƒ³æ•°: ${stats.totalPatterns}`);
console.log(`é«˜ä¿¡é ¼åº¦ãƒ‘ã‚¿ãƒ¼ãƒ³: ${stats.highConfidencePatterns}`);
```

---

## C4ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

C4è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰TypeScriptã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

### CLIã®ä½¿ç”¨

```bash
# C4è¨­è¨ˆã‹ã‚‰ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
musubix codegen generate design-c4.md --output src/

# è¨€èªã‚’æŒ‡å®š
musubix codegen generate design-c4.md --output src/ --language typescript
```

### ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰æ§‹é€ 

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æŒã¤C4è¨­è¨ˆã‹ã‚‰ï¼š

| ID | Name | Type | Description |
|----|------|------|-------------|
| auth | AuthService | component | èªè¨¼ |

MUSUBIXã¯ä»¥ä¸‹ã‚’ç”Ÿæˆã—ã¾ã™ï¼š

```typescript
// auth-service.ts
export interface IAuthService {
  authenticate(credentials: { username: string; password: string }): Promise<{ token: string }>;
  validate(token: string): Promise<boolean>;
}

export class AuthService implements IAuthService {
  async authenticate(credentials: { username: string; password: string }): Promise<{ token: string }> {
    // TODO: authenticateã‚’å®Ÿè£…
    throw new Error('Not implemented');
  }
  
  async validate(token: string): Promise<boolean> {
    // TODO: validateã‚’å®Ÿè£…
    throw new Error('Not implemented');
  }
}

export function createAuthService(): IAuthService {
  return new AuthService();
}
```

---

## ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯æ¨è«–

*(v1.2.0 æ–°æ©Ÿèƒ½)*

### æ¦‚è¦

ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯æ¨è«–ã¯ã€å½¢å¼æ¤œè¨¼ã¨çŸ¥è­˜ã‚°ãƒ©ãƒ•ãƒ™ãƒ¼ã‚¹ã®æ¨è«–ã‚’é©ç”¨ã—ã¦ã€LLMå‡ºåŠ›ã‚’å¼·åŒ–ã—ã¾ã™ã€‚ã“ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆãƒ‹ãƒ¥ãƒ¼ãƒ­ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ï¼‰ã¯ã€ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å‰µé€ æ€§ã¨ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ã®ç²¾åº¦ã‚’çµ„ã¿åˆã‚ã›ã¾ã™ã€‚

### ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | èª¬æ˜ |
|--------------|------|
| `SemanticCodeFilterPipeline` | ã‚³ãƒ¼ãƒ‰å“è³ªã®ãŸã‚ã®LLMå‡ºåŠ›ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° |
| `HallucinationDetector` | ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¹»è¦šï¼‰å‡ºåŠ›ã®æ¤œå‡ºã¨é˜²æ­¢ |
| `EarsToFormalSpecConverter` | EARSè¦ä»¶ã‹ã‚‰Z3å½¢å¼ä»•æ§˜ã¸ã®å¤‰æ› |
| `Z3Adapter` | å½¢å¼æ¤œè¨¼ã®ãŸã‚ã®Z3ã‚½ãƒ«ãƒãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ |
| `QualityGateValidator` | 17å“è³ªã‚²ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ã«å¯¾ã™ã‚‹æ¤œè¨¼ |

### ä½¿ç”¨æ–¹æ³•

#### ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

```typescript
import { SemanticCodeFilterPipeline } from '@nahisaho/musubix-core';

const pipeline = new SemanticCodeFilterPipeline({
  enableHallucinationDetection: true,
  maxRetries: 3
});

const result = await pipeline.filter({
  code: generatedCode,
  context: { language: 'typescript', domain: 'authentication' }
});

if (result.isValid) {
  console.log('ã‚³ãƒ¼ãƒ‰ãŒæ¤œè¨¼ã«åˆæ ¼:', result.filteredCode);
} else {
  console.log('å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ:', result.issues);
}
```

#### ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡º

```typescript
import { HallucinationDetector } from '@nahisaho/musubix-core';

const detector = new HallucinationDetector();

const analysis = await detector.analyze({
  response: llmResponse,
  groundTruth: knownFacts,
  context: projectContext
});

console.log('ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢:', analysis.confidence);
console.log('ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ã‚¯:', analysis.risks);
```

#### EARSã‹ã‚‰å½¢å¼ä»•æ§˜ã¸ã®å¤‰æ›

```typescript
import { EarsToFormalSpecConverter } from '@nahisaho/musubix-core';

const converter = new EarsToFormalSpecConverter();

const formalSpec = await converter.convert({
  earsRequirement: 'WHEN user clicks login, THE system SHALL authenticate within 2 seconds',
  requirementId: 'REQ-AUTH-001'
});

// Z3äº’æ›ã®ä»•æ§˜ã‚’è¿”ã™
console.log(formalSpec.z3Expression);
```

#### å“è³ªã‚²ãƒ¼ãƒˆæ¤œè¨¼

```typescript
import { QualityGateValidator } from '@nahisaho/musubix-core';

const validator = new QualityGateValidator();

const gateResult = await validator.validate({
  requirements: requirementsList,
  designs: designDocuments,
  tasks: taskList
});

console.log('å…¨ã‚²ãƒ¼ãƒˆåˆæ ¼:', gateResult.allPassed);
console.log('ã‚²ãƒ¼ãƒˆè©³ç´°:', gateResult.gates);
// EARSæº–æ‹ ã€ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãªã©17ã®å“è³ªãƒã‚§ãƒƒã‚¯
```

### å“è³ªã‚²ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯

| ã‚²ãƒ¼ãƒˆ | èª¬æ˜ |
|--------|------|
| EARSæº–æ‹  | è¦ä»¶ãŒEARSãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ã„ã‚‹ã‹ |
| ä¸€æ„ã®ID | ã™ã¹ã¦ã®æˆæœç‰©ã«ä¸€æ„ã®è­˜åˆ¥å­ãŒã‚ã‚‹ã‹ |
| ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ | å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒ¼ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ |
| è¨­è¨ˆã‚«ãƒãƒ¬ãƒƒã‚¸ | ã™ã¹ã¦ã®è¦ä»¶ã«è¨­è¨ˆãŒã‚ã‚‹ã‹ |
| ã‚¿ã‚¹ã‚¯ã‚«ãƒãƒ¬ãƒƒã‚¸ | ã™ã¹ã¦ã®è¨­è¨ˆã«ã‚¿ã‚¹ã‚¯ãŒã‚ã‚‹ã‹ |
| å­¤ç«‹ãªã— | å­¤ç«‹ã—ãŸè¦ä»¶ã‚„ã‚¿ã‚¹ã‚¯ãŒãªã„ã‹ |
| å®Œå…¨æ€§ | ã™ã¹ã¦ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã‹ |
| ... | ãã®ä»–10ã®å“è³ªãƒã‚§ãƒƒã‚¯ |

---

## æ­£èª¤æ€§æ¤œè¨¼

*(v1.4.1 æ–°æ©Ÿèƒ½)*

### æ¦‚è¦

æ­£èª¤æ€§æ¤œè¨¼ã¯ã€çŸ¥è­˜ã‚°ãƒ©ãƒ•ã¸ã®ãƒˆãƒªãƒ—ãƒ«è¿½åŠ æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚OWLåˆ¶ç´„ã«åŸºã¥ã„ã¦é•åã‚’æ¤œå‡ºã—ã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²ã‚’é˜²æ­¢ã—ã¾ã™ã€‚

### æ¤œè¨¼ã‚¿ã‚¤ãƒ—

| ã‚¿ã‚¤ãƒ— | èª¬æ˜ | é‡å¤§åº¦ |
|--------|------|--------|
| `disjoint-class-membership` | æ’ä»–çš„ã‚¯ãƒ©ã‚¹ã®ä¸¡æ–¹ã«æ‰€å± | error |
| `functional-property-violation` | é–¢æ•°å‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è¤‡æ•°å€¤ | error |
| `inverse-functional-violation` | åŒã˜å€¤ãŒè¤‡æ•°ã®ä¸»èªã«ãƒãƒƒãƒ— | error |
| `asymmetric-violation` | éå¯¾ç§°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é€†æ–¹å‘ãŒå­˜åœ¨ | error |
| `irreflexive-violation` | éåå°„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§è‡ªå·±å‚ç…§ | error |
| `duplicate-triple` | å®Œå…¨ä¸€è‡´ã®é‡è¤‡ãƒˆãƒªãƒ—ãƒ« | warning |
| `circular-dependency` | subClassOfã®å¾ªç’°ãƒã‚§ãƒ¼ãƒ³ | error |

### ä½¿ç”¨æ–¹æ³•

#### æ¤œè¨¼ä»˜ããƒˆãƒªãƒ—ãƒ«è¿½åŠ 

```typescript
import { N3Store } from '@nahisaho/musubix-ontology-mcp';

// è¿½åŠ æ™‚æ¤œè¨¼ã‚’æœ‰åŠ¹åŒ–
const store = new N3Store({}, true);

// æ¤œè¨¼ä»˜ãè¿½åŠ 
const result = store.addTripleValidated({
  subject: 'http://example.org/Person1',
  predicate: 'http://example.org/hasMother',
  object: 'http://example.org/Mother1'
});

if (!result.success) {
  console.error('æ¤œè¨¼ã‚¨ãƒ©ãƒ¼:', result.validation.errors);
}
```

#### ã‚¹ãƒˆã‚¢å…¨ä½“ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

```typescript
// ã‚¹ãƒˆã‚¢å…¨ä½“ã‚’ãƒã‚§ãƒƒã‚¯
const consistency = store.checkConsistency();

if (!consistency.consistent) {
  for (const violation of consistency.violations) {
    console.log(`${violation.type}: ${violation.message}`);
    console.log('é–¢é€£ãƒˆãƒªãƒ—ãƒ«:', violation.triples);
  }
  
  // ä¿®æ­£ææ¡ˆã‚’å–å¾—
  for (const suggestion of consistency.suggestions) {
    console.log(`ææ¡ˆ: ${suggestion.suggestion}`);
    console.log(`è‡ªå‹•ä¿®æ­£å¯èƒ½: ${suggestion.autoFixable}`);
  }
}
```

#### ç›´æ¥ãƒãƒªãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨

```typescript
import { ConsistencyValidator } from '@nahisaho/musubix-ontology-mcp';

const validator = new ConsistencyValidator({
  checkDisjointClasses: true,
  checkFunctionalProperties: true,
  checkDuplicates: true,
  checkCircularDependencies: true
});

// è¿½åŠ å‰ã«æ¤œè¨¼
const validation = validator.validateTriple(newTriple, existingTriples);
if (!validation.valid) {
  console.error(validation.errors);
}

// é‡è¤‡ã‚’æ¤œå‡º
const duplicates = validator.findDuplicates(allTriples);
const semanticDuplicates = validator.findSemanticDuplicates(allTriples);
```

---

## é«˜åº¦ãªæ¨è«–

*(v1.4.5 æ–°æ©Ÿèƒ½)*

### æ¦‚è¦

é«˜åº¦ãªæ¨è«–ã¯ã€çŸ¥è­˜ã‚°ãƒ©ãƒ•ã«OWL 2 RLæ¨è«–ã¨Datalogè©•ä¾¡æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚æš—é»™çš„ãªäº‹å®Ÿã®å®Ÿä½“åŒ–ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®æ¨è«–ã€äººé–“ãŒç†è§£ã—ã‚„ã™ã„èª¬æ˜ã®ç”Ÿæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

### ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | èª¬æ˜ |
|--------------|------|
| `OWL2RLReasoner` | 20ä»¥ä¸Šã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’æŒã¤OWL 2 RLæ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ |
| `DatalogEngine` | éšå±¤åŒ–è©•ä¾¡å¯¾å¿œã®Datalogã‚¨ãƒ³ã‚¸ãƒ³ |
| `InferenceExplainer` | è‡ªç„¶è¨€èªã§ã®èª¬æ˜ç”Ÿæˆ |
| `ProgressReporter` | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¨è«–é€²æ—è¿½è·¡ |

### OWL 2 RL æ¨è«–

```typescript
import { OWL2RLReasoner } from '@nahisaho/musubix-ontology-mcp';

const reasoner = new OWL2RLReasoner({
  maxIterations: 100,
  enablePropertyChains: true,
  enableInverseProperties: true
});

// ã‚¹ãƒˆã‚¢ã«å¯¾ã—ã¦æ¨è«–ã‚’å®Ÿè¡Œ
const result = await reasoner.reason(store, {
  onProgress: (progress) => {
    console.log(`åå¾© ${progress.iteration}: ${progress.newTriples} æ–°è¦ãƒˆãƒªãƒ—ãƒ«`);
  }
});

console.log(`${result.inferredCount} å€‹ã®æ–°ã—ã„äº‹å®Ÿã‚’æ¨è«–`);
console.log(`é©ç”¨ãƒ«ãƒ¼ãƒ«: ${result.rulesApplied.join(', ')}`);
```

### OWL 2 RL ãƒ«ãƒ¼ãƒ«

| ãƒ«ãƒ¼ãƒ«ID | åç§° | èª¬æ˜ |
|---------|------|------|
| `prp-dom` | Property Domain | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰å‹ã‚’æ¨è«– |
| `prp-rng` | Property Range | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ãƒ¬ãƒ³ã‚¸ã‹ã‚‰å‹ã‚’æ¨è«– |
| `prp-inv1/2` | Inverse Properties | é€†é–¢ä¿‚ã‚’æ¨è«– |
| `prp-trp` | Transitive Properties | æ¨ç§»çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é€£é– |
| `prp-symp` | Symmetric Properties | å¯¾ç§°é–¢ä¿‚ã‚’æ¨è«– |
| `cax-sco` | SubClassOf | ã‚¯ãƒ©ã‚¹ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ã‚’ä¼æ’­ |
| `scm-spo` | SubPropertyOf | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åŒ…æ‘‚é–¢ä¿‚ |
| `eq-rep-s/p/o` | SameAs Replacement | åŒä¸€å€‹ä½“ã®ç½®æ› |

### Datalog è©•ä¾¡

```typescript
import { DatalogEngine } from '@nahisaho/musubix-ontology-mcp';

const engine = new DatalogEngine();

// ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©
const rules = [
  {
    head: { predicate: 'ancestor', args: ['?x', '?y'] },
    body: [
      { predicate: 'parent', args: ['?x', '?y'] }
    ]
  },
  {
    head: { predicate: 'ancestor', args: ['?x', '?z'] },
    body: [
      { predicate: 'parent', args: ['?x', '?y'] },
      { predicate: 'ancestor', args: ['?y', '?z'] }
    ]
  }
];

// ãƒ«ãƒ¼ãƒ«ã‚’è©•ä¾¡
const result = await engine.evaluate(rules, facts, {
  onProgress: (progress) => {
    console.log(`éšå±¤ ${progress.stratum}: ${progress.rule} ã‚’è©•ä¾¡ä¸­`);
  }
});

console.log(`${result.derivedFacts.length} å€‹ã®æ–°ã—ã„äº‹å®Ÿã‚’å°å‡º`);
```

### æ¨è«–èª¬æ˜

```typescript
import { InferenceExplainer, ExplanationFormat } from '@nahisaho/musubix-ontology-mcp';

const explainer = new InferenceExplainer(reasoner.getProvenanceLog());

// ç‰¹å®šã®ãƒˆãƒªãƒ—ãƒ«ã®èª¬æ˜ã‚’å–å¾—
const explanation = explainer.explain(
  'http://example.org/Animal',
  'rdf:type',
  'owl:Class',
  ExplanationFormat.TEXT
);

console.log(explanation);
// å‡ºåŠ›: "Animal ã¯ owl:Class ã¨ã—ã¦å®£è¨€ã•ã‚Œã¦ã„ã‚‹ãŸã‚ Class ã§ã™ï¼ˆãƒ«ãƒ¼ãƒ« cax-scoï¼‰"

// HTMLå½¢å¼ã®èª¬æ˜ã‚’ç”Ÿæˆ
const htmlExplanation = explainer.explain(
  subject, predicate, object,
  ExplanationFormat.HTML
);
```

### é€²æ—ãƒ¬ãƒãƒ¼ãƒˆ

```typescript
import { createProgressReporter } from '@nahisaho/musubix-ontology-mcp';

const reporter = createProgressReporter({
  onProgress: (info) => {
    console.log(`ãƒ•ã‚§ãƒ¼ã‚º: ${info.phase}`);
    console.log(`åå¾©: ${info.iteration}/${info.maxIterations}`);
    console.log(`ãƒˆãƒªãƒ—ãƒ«æ•°: ${info.totalTriples}`);
    console.log(`æ–°è¦æ¨è«–: ${info.newInferences}`);
  },
  throttleMs: 500  // 500msé–“éš”ã§ãƒ¬ãƒãƒ¼ãƒˆ
});

await reasoner.reason(store, { progressReporter: reporter });
```

---

## å¯¾è©±çš„REPLãƒ¢ãƒ¼ãƒ‰

*(v1.5.0 æ–°è¦ã€v1.6.0 å¼·åŒ–)*

MUSUBIXã¯ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œãƒ»æ¢ç´¢ã§ãã‚‹å¯¾è©±çš„REPLã‚·ã‚§ãƒ«ã‚’æä¾›ã—ã¾ã™ã€‚

### REPLã®èµ·å‹•

```bash
# å¯¾è©±çš„REPLã‚’èµ·å‹•
musubix repl

# ã‚«ã‚¹ã‚¿ãƒ å±¥æ­´ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š
musubix repl --history ~/.musubix-repl-history

# ã‚«ãƒ©ãƒ¼è¡¨ç¤ºãªã—
musubix repl --no-color
```

### REPLæ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| ã‚³ãƒãƒ³ãƒ‰è£œå®Œ | TABã‚­ãƒ¼ã§ã‚³ãƒãƒ³ãƒ‰ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è£œå®Œ |
| å±¥æ­´ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | ä¸Šä¸‹çŸ¢å°ã€å±¥æ­´æ¤œç´¢ |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤‰æ•° | `$name=value` ã§è¨­å®šã€`$name` ã§å‚ç…§ |
| å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | JSONã€YAMLã€ãƒ†ãƒ¼ãƒ–ãƒ«è‡ªå‹•æ•´å½¢ |
| CLIçµ±åˆ | CLIã‚³ãƒãƒ³ãƒ‰ã‚’ãã®ã¾ã¾å®Ÿè¡Œå¯èƒ½ |

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
musubix> help                          # ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º
musubix> help requirements             # ã‚³ãƒãƒ³ãƒ‰è©³ç´°ã‚’è¡¨ç¤º
musubix> requirements analyze input.md # CLIã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ
musubix> $project=my-app               # ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤‰æ•°ã‚’è¨­å®š
musubix> design generate $project      # å¤‰æ•°ã‚’ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨
musubix> history                       # ã‚³ãƒãƒ³ãƒ‰å±¥æ­´ã‚’è¡¨ç¤º
musubix> exit                          # REPLã‚’çµ‚äº†
```

### ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤‰æ•°

```bash
# å¤‰æ•°ã®è¨­å®š
musubix> $req=REQ-001
musubix> $file=./docs/requirements.md

# ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨
musubix> requirements validate $file
musubix> trace impact $req

# ç‰¹æ®Šå¤‰æ•°: $_ ã¯å‰å›ã®å®Ÿè¡Œçµæœã‚’ä¿æŒ
musubix> requirements analyze input.md
musubix> $_                           # å‰å›ã®çµæœã«ã‚¢ã‚¯ã‚»ã‚¹
```

### å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```bash
# è‡ªå‹•æ¤œå‡ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
musubix> learn status

# JSONå‡ºåŠ›ã‚’å¼·åˆ¶
musubix> set format json
musubix> learn patterns

# YAMLå‡ºåŠ›ã‚’å¼·åˆ¶
musubix> set format yaml

# ãƒ†ãƒ¼ãƒ–ãƒ«å‡ºåŠ›ã‚’å¼·åˆ¶
musubix> set format table
```

### å±¥æ­´ç®¡ç†

```bash
# æœ€è¿‘ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º
musubix> history

# å±¥æ­´ã‚’æ¤œç´¢ï¼ˆCtrl+Rã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
musubix> history search requirements

# å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
musubix> history clear
```

### REPLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å½¹å‰² |
|---------------|------|
| `ReplEngine` | REPLãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ |
| `CommandCompleter` | TABè£œå®Œãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ |
| `HistoryManager` | ã‚³ãƒãƒ³ãƒ‰å±¥æ­´ã®æ°¸ç¶šåŒ– |
| `SessionState` | å¤‰æ•°ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| `OutputFormatter` | JSON/YAML/ãƒ†ãƒ¼ãƒ–ãƒ«å‡ºåŠ› |
| `PromptRenderer` | å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º |

---

## YATA Local

*(v1.6.3 æ–°è¦)*

YATA Localã¯ã€é«˜æ€§èƒ½ãªSQLiteãƒ™ãƒ¼ã‚¹ã®ãƒ­ãƒ¼ã‚«ãƒ«çŸ¥è­˜ã‚°ãƒ©ãƒ•ã§ã™ã€‚æ¨è«–æ©Ÿèƒ½ã‚’å†…è”µã—ã€ã‚·ãƒ³ã‚°ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã§ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©ã¨é€Ÿåº¦ãŒé‡è¦ãªå ´åˆã«æœ€é©ã§ã™ã€‚

### æ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **SQLiteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** | WALãƒ¢ãƒ¼ãƒ‰ã§ä¸¦è¡Œèª­ã¿å–ã‚Šã€ã‚·ãƒ³ã‚°ãƒ«ãƒ©ã‚¤ã‚¿ãƒ¼ |
| **å…¨æ–‡æ¤œç´¢** | FTS5ãƒ™ãƒ¼ã‚¹ã®ãƒˆãƒªãƒ—ãƒ«æ¤œç´¢ |
| **ã‚°ãƒ©ãƒ•æ¢ç´¢** | BFS/DFSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€æ·±åº¦åˆ¶å¾¡ |
| **æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³** | 4ã¤ã®OWL-liteãƒ«ãƒ¼ãƒ«ï¼ˆæ¨ç§»æ€§ã€å¯¾ç§°æ€§ã€é€†é–¢ä¿‚ã€ãƒ‰ãƒ¡ã‚¤ãƒ³/ãƒ¬ãƒ³ã‚¸ï¼‰ |
| **åˆ¶ç´„** | 4ã¤ã®æ¤œè¨¼ãƒ«ãƒ¼ãƒ«ï¼ˆã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã€æ’ä»–ã€ä¸€æ„æ€§ã€å¿…é ˆï¼‰ |
| **ACIDãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³** | å®Œå…¨ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒãƒ¼ãƒˆ |

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @nahisaho/yata-local
```

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```typescript
import { YataLocal } from '@nahisaho/yata-local';

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§åˆæœŸåŒ–
const yata = new YataLocal('./knowledge.db');
await yata.initialize();

// ãƒˆãƒªãƒ—ãƒ«ã‚’è¿½åŠ 
await yata.addTriple({
  subject: 'Person:john',
  predicate: 'hasParent',
  object: 'Person:mary'
});

// ãƒˆãƒªãƒ—ãƒ«ã‚’ã‚¯ã‚¨ãƒª
const results = await yata.query({
  subject: 'Person:john',
  predicate: 'hasParent'
});

// å…¨æ–‡æ¤œç´¢
const searchResults = await yata.search('john parent');

// ã‚°ãƒ©ãƒ•æ¢ç´¢ï¼ˆBFSï¼‰
const ancestors = await yata.traverse('Person:john', 'hasParent', {
  direction: 'outgoing',
  maxDepth: 5,
  algorithm: 'bfs'
});

// ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
await yata.close();
```

### æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³

YATA Localã¯4ã¤ã®OWL-liteæ¨è«–ãƒ«ãƒ¼ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼š

| ãƒ«ãƒ¼ãƒ« | èª¬æ˜ | ä¾‹ |
|--------|------|-----|
| **æ¨ç§»æ€§** | Aâ†’Bã‹ã¤Bâ†’Cãªã‚‰Aâ†’C | hasAncestorã¯æ¨ç§»çš„ |
| **å¯¾ç§°æ€§** | Aâ†’Bãªã‚‰Bâ†’A | friendOfã¯å¯¾ç§°çš„ |
| **é€†é–¢ä¿‚** | Aâ†’Bï¼ˆPçµŒç”±ï¼‰ãªã‚‰Bâ†’Aï¼ˆPâ»Â¹çµŒç”±ï¼‰ | hasChild â†” hasParent |
| **ãƒ‰ãƒ¡ã‚¤ãƒ³/ãƒ¬ãƒ³ã‚¸** | è¿°èªã‹ã‚‰å‹ã‚’æ¨è«– | hasAgeã¯Personã‚’ç¤ºå”† |

```typescript
// æ¨è«–ã‚’å®Ÿè¡Œ
const inferred = await yata.infer();
console.log(`${inferred.length}å€‹ã®æ–°ã—ã„ãƒˆãƒªãƒ—ãƒ«ã‚’æ¨è«–`);
```

### åˆ¶ç´„

```typescript
// åˆ¶ç´„ã‚’å®šç¾©
await yata.addConstraint({
  type: 'cardinality',
  predicate: 'hasSpouse',
  max: 1
});

// æ¤œè¨¼
const violations = await yata.validate();
if (violations.length > 0) {
  console.error('åˆ¶ç´„é•å:', violations);
}
```

### è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

```typescript
const yata = new YataLocal('./knowledge.db', {
  // WALãƒ¢ãƒ¼ãƒ‰ã§ä¸¦è¡Œæ€§å‘ä¸Šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
  walMode: true,
  
  // FTS5æ¤œç´¢ã‚’æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
  enableSearch: true,
  
  // æ›¸ãè¾¼ã¿æ™‚ã«è‡ªå‹•æ¨è«–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
  autoInfer: false,
  
  // ã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 'wal'ï¼‰
  journalMode: 'wal'
});
```

---

## YATA Global

*(v1.6.3 æ–°è¦)*

YATA Globalã¯ã€ãƒãƒ¼ãƒ ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®åˆ†æ•£å‹çŸ¥è­˜ã‚°ãƒ©ãƒ•ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚å…±æœ‰çŸ¥è­˜ã‚°ãƒ©ãƒ•ã¸ã®REST APIã‚¢ã‚¯ã‚»ã‚¹ã¨ã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªåŒæœŸæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### æ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **REST API** | HTTPçµŒç”±ã®å®Œå…¨ãªCRUDæ“ä½œ |
| **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥** | SQLiteãƒ™ãƒ¼ã‚¹ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **åŒæœŸã‚¨ãƒ³ã‚¸ãƒ³** | Push/Pullã¨ç«¶åˆè§£æ±º |
| **ç«¶åˆè§£æ±º** | Last-write-winsã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ æˆ¦ç•¥ |
| **èªè¨¼** | APIã‚­ãƒ¼ãƒ™ãƒ¼ã‚¹ã®èªè¨¼ |
| **ãƒãƒƒãƒæ“ä½œ** | ä¸€æ‹¬ãƒˆãƒªãƒ—ãƒ«æ“ä½œ |

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @nahisaho/yata-global
```

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```typescript
import { YataGlobal } from '@nahisaho/yata-global';

// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–
const yata = new YataGlobal({
  endpoint: 'https://yata.example.com/api',
  apiKey: 'your-api-key',
  graphId: 'project-knowledge'
});

await yata.initialize();

// ãƒˆãƒªãƒ—ãƒ«ã‚’è¿½åŠ ï¼ˆãƒãƒƒãƒï¼‰
await yata.addTriples([
  { subject: 'Task:001', predicate: 'assignedTo', object: 'User:alice' },
  { subject: 'Task:001', predicate: 'status', object: 'in-progress' }
]);

// ãƒ•ã‚£ãƒ«ã‚¿ä»˜ãã‚¯ã‚¨ãƒª
const tasks = await yata.query({
  predicate: 'assignedTo',
  object: 'User:alice'
});

// ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
await yata.close();
```

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆ

YATA Globalã¯è‡ªå‹•åŒæœŸã«ã‚ˆã‚‹ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆæ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼š

```typescript
const yata = new YataGlobal({
  endpoint: 'https://yata.example.com/api',
  apiKey: 'your-api-key',
  graphId: 'project-knowledge',
  
  // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³è¨­å®š
  offlineMode: true,
  cachePath: './yata-cache.db',
  syncInterval: 60000  // 60ç§’ã”ã¨ã«è‡ªå‹•åŒæœŸ
});

// ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚å‹•ä½œ - ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
await yata.addTriple({
  subject: 'Note:001',
  predicate: 'content',
  object: 'é‡è¦ãªä¼šè­°ãƒ¡ãƒ¢'
});

// ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ™‚ã«æ‰‹å‹•åŒæœŸ
await yata.sync();
```

### ç«¶åˆè§£æ±º

```typescript
const yata = new YataGlobal({
  // ... ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  
  conflictStrategy: 'last-write-wins',  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  // ã¾ãŸã¯: 'server-wins', 'client-wins', 'manual'
  
  onConflict: async (local, remote) => {
    // ã‚«ã‚¹ã‚¿ãƒ è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯
    console.log('ç«¶åˆã‚’æ¤œå‡º:', local, remote);
    return remote;  // ãƒªãƒ¢ãƒ¼ãƒˆç‰ˆã‚’å„ªå…ˆ
  }
});
```

### åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

```typescript
// åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª
const status = await yata.getSyncStatus();
console.log(`ä¿ç•™ä¸­ã®å¤‰æ›´: ${status.pendingPush}`);
console.log(`æœ€çµ‚åŒæœŸ: ${status.lastSyncAt}`);

// å®Œå…¨åŒæœŸã‚’å¼·åˆ¶
await yata.sync({ force: true });
```

### YATA Local vs YATA Global ã®é¸æŠ

| ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | æ¨å¥¨ |
|-------------|------|
| å€‹äººç”¨ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ | YATA Local |
| ã‚·ãƒ³ã‚°ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒ—ãƒª | YATA Local |
| ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–ã®ãƒ‡ãƒ¼ã‚¿ | YATA Local |
| ãƒãƒ¼ãƒ ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | YATA Global |
| ã‚¯ãƒ­ã‚¹ãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ | YATA Global |
| å…±æœ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ | YATA Global |
| åŒæœŸä»˜ãã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ | YATA Global |

---

## KGPR - Knowledge Graph Pull Request

*(v1.6.4)*

KGPRï¼ˆKnowledge Graph Pull Requestï¼‰ã¯ã€GitHub PRã¨åŒæ§˜ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã€YATA Localã‹ã‚‰YATA Globalã¸å®‰å…¨ã«çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‚’å…±æœ‰ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YATA Local  â”‚ â”€â”€â–º â”‚ KGPR (Draft) â”‚ â”€â”€â–º â”‚ YATA Global   â”‚
â”‚ (ãƒ­ãƒ¼ã‚«ãƒ«KG) â”‚     â”‚ (å·®åˆ†æŠ½å‡º)    â”‚     â”‚ (ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒãƒ¼ã‚¸) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»:
draft â†’ open â†’ reviewing â†’ approved/changes_requested â†’ merged/closed
```

### ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ« | ãƒ•ã‚£ãƒ«ã‚¿å¯¾è±¡ |
|-------|------------|
| `strict` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€URLã€èªè¨¼æƒ…å ±ã€å…¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ |
| `moderate` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€URLã€èªè¨¼æƒ…å ± |
| `none` | ãƒ•ã‚£ãƒ«ã‚¿ãªã— |

### CLIã‚³ãƒãƒ³ãƒ‰

```bash
# KGPRã‚’ä½œæˆ
musubix kgpr create -t "èªè¨¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¿½åŠ "

# ä½œæˆå‰ã«å·®åˆ†ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
musubix kgpr diff --namespace myproject --privacy moderate

# KGPRä¸€è¦§ã‚’è¡¨ç¤º
musubix kgpr list

# KGPRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€ä¿¡
musubix kgpr submit <id>

# KGPRè©³ç´°ã‚’è¡¨ç¤º
musubix kgpr show <id>

# ãƒãƒ¼ã‚¸ã›ãšã«ã‚¯ãƒ­ãƒ¼ã‚º
musubix kgpr close <id>
```

### MCPãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `kgpr_create` | ãƒ­ãƒ¼ã‚«ãƒ«çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‹ã‚‰KGPRã‚’ä½œæˆ |
| `kgpr_diff` | KGPRä½œæˆå‰ã«å·®åˆ†ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| `kgpr_list` | å…¨KGPRã‚’ä¸€è¦§è¡¨ç¤º |
| `kgpr_submit` | KGPRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€ä¿¡ |
| `kgpr_review` | KGPRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆapprove/changes_requested/commentedï¼‰ |

### ä½¿ç”¨ä¾‹

```bash
# 1. å…±æœ‰å†…å®¹ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
musubix kgpr diff --privacy strict

# 2. èª¬æ˜ä»˜ãã§KGPRã‚’ä½œæˆ
musubix kgpr create -t "Reactãƒ‘ã‚¿ãƒ¼ãƒ³ã®å…±æœ‰" -d "project-xã‹ã‚‰å­¦ç¿’ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³"

# 3. KGPRã‚’ç¢ºèª
musubix kgpr show KGPR-001

# 4. ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€ä¿¡
musubix kgpr submit KGPR-001
```

---

## YATA ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ

*(v1.7.0)*

ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.7.0ã§ã¯ã€YATAãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«5ã¤ã®ä¸»è¦æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

### Phase 1: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–

YATA Localã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§æœ€é©åŒ–ã€‚

```typescript
import { IndexOptimizer } from '@nahisaho/yata-local';

const optimizer = new IndexOptimizer(database);

// ã‚¯ã‚¨ãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã¦æœ€é©ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆ
const analysis = await optimizer.analyzeQueryPatterns();
const created = await optimizer.createOptimalIndexes();

// ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å¥å…¨æ€§ã‚’ãƒã‚§ãƒƒã‚¯
const health = await optimizer.checkIndexHealth();
```

**ä¸»ãªæ©Ÿèƒ½:**
- ä¸€èˆ¬çš„ãªã‚¯ã‚¨ãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ç”¨ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
- æ–­ç‰‡åŒ–æ¤œå‡ºã«ã‚ˆã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å¥å…¨æ€§ç›£è¦–
- è‡ªå‹•æœ€é©åŒ–æ¨å¥¨

### Phase 2: æ‹¡å¼µã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

å¢—åˆ†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨è¤‡æ•°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œã®å¼·åŠ›ãªã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã€‚

```typescript
import { ExportPipeline } from '@nahisaho/yata-local';

const pipeline = new ExportPipeline(database);

// ãƒ•ãƒ«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const fullData = await pipeline.exportFull({ namespace: 'myproject' });

// å¢—åˆ†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆå‰å›ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆä»¥é™ã®å¤‰æ›´ï¼‰
const changes = await pipeline.exportIncremental({
  since: lastExportTimestamp,
  format: 'json'
});

// å¤‰æ›ä»˜ãã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const transformed = await pipeline.exportWithTransform({
  format: 'rdf',
  includeMetadata: true
});
```

**å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:**
- JSONï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- RDF/Turtle
- N-Triples
- ã‚«ã‚¹ã‚¿ãƒ ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼

### Phase 3: GlobalåŒæœŸçµ±åˆ

YATA Localã¨YATA Globalé–“ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªåŒæœŸã€‚

```typescript
import { GlobalSyncClient, SyncEngine } from '@nahisaho/yata-global';

const client = new GlobalSyncClient({
  endpoint: 'https://yata-global.example.com',
  offlineMode: true
});

// åŒæœŸã‚’åˆæœŸåŒ–
await client.initialize();

// ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ›´ã‚’ãƒ—ãƒƒã‚·ãƒ¥
const syncResult = await client.sync({
  namespace: 'myproject',
  direction: 'push'
});

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‹ã‚‰æ›´æ–°ã‚’ãƒ—ãƒ«
await client.sync({
  namespace: 'shared-patterns',
  direction: 'pull'
});
```

**æ©Ÿèƒ½:**
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã¨è‡ªå‹•åŒæœŸ
- ç«¶åˆè§£æ±ºæˆ¦ç•¥
- é¸æŠçš„ãªåå‰ç©ºé–“åŒæœŸ
- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒªãƒã‚¸ãƒˆãƒª

### Phase 4: ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼å¼·åŒ–

è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®é«˜åº¦ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€‚

```typescript
import { CodeGenerator } from '@nahisaho/yata-local';

const generator = new CodeGenerator({
  language: 'typescript',
  outputDir: './src/generated'
});

// C4è¨­è¨ˆã‹ã‚‰ç”Ÿæˆ
const result = await generator.generateFromC4(designDocument);

// ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆ
await generator.generate({
  template: 'repository-pattern',
  context: { entityName: 'User' }
});
```

**å¯¾å¿œãƒ‘ã‚¿ãƒ¼ãƒ³:**
- Repositoryãƒ‘ã‚¿ãƒ¼ãƒ³
- Serviceãƒ¬ã‚¤ãƒ¤ãƒ¼
- Factoryãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
- Value Objects

### Phase 5: YATA UIï¼ˆWebå¯è¦–åŒ–ï¼‰

çŸ¥è­˜ã‚°ãƒ©ãƒ•ã®Webãƒ™ãƒ¼ã‚¹å¯è¦–åŒ–ãƒ»ç®¡ç†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚

```typescript
import { YataUIServer, createYataUIServer } from '@nahisaho/yata-ui';

// ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œæˆã—ã¦èµ·å‹•
const server = createYataUIServer({
  port: 3000,
  enableRealtime: true
});

// ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’è¨­å®š
server.setDataProvider(async () => ({
  nodes: await getEntities(),
  edges: await getRelationships()
}));

await server.start();
console.log(`UI: ${server.getUrl()}`);
```

**UIæ©Ÿèƒ½:**
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚°ãƒ©ãƒ•å¯è¦–åŒ–
- WebSocketã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- åå‰ç©ºé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£/ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—ç·¨é›†
- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½

### v1.7.0 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¦‚è¦

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | èª¬æ˜ |
|-----------|------|
| `@nahisaho/yata-local` | IndexOptimizer, ExportPipeline, CodeGenerator |
| `@nahisaho/yata-global` | GlobalSyncClient, SyncEngine, CacheManager |
| `@nahisaho/yata-ui` | YataUIServer, ã‚°ãƒ©ãƒ•å¯è¦–åŒ– |

---

## å½¢å¼æ¤œè¨¼

*(v1.7.5)*

`@nahisaho/musubix-formal-verify` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€Z3 SMTã‚½ãƒ«ãƒãƒ¼ã‚’ä½¿ç”¨ã—ãŸå½¢å¼æ¤œè¨¼æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @nahisaho/musubix-formal-verify
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³: WebAssemblyã‚µãƒãƒ¼ãƒˆç”¨ã«z3-solverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install z3-solver
```

### Z3 SMTã‚½ãƒ«ãƒãƒ¼çµ±åˆ

```typescript
import { Z3Adapter, PreconditionVerifier, PostconditionVerifier } from '@nahisaho/musubix-formal-verify';

// Z3ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ä½œæˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªå‹•é¸æŠï¼‰
const z3 = await Z3Adapter.create();

// äº‹å‰æ¡ä»¶æ¤œè¨¼
const preVerifier = new PreconditionVerifier(z3);
const result = await preVerifier.verify({
  condition: { expression: 'amount > 0 && balance >= amount', format: 'javascript' },
  variables: [
    { name: 'amount', type: 'Int' },
    { name: 'balance', type: 'Int' },
  ],
});

console.log(result.status); // 'valid' | 'invalid' | 'unknown' | 'error'
```

### Hoareãƒˆãƒªãƒ—ãƒ«æ¤œè¨¼

```typescript
// {P} C {Q} ã®æ¤œè¨¼
const postVerifier = new PostconditionVerifier(z3);
const hoareResult = await postVerifier.verify({
  precondition: { expression: 'balance >= amount', format: 'javascript' },
  postcondition: { expression: 'balance_new == balance - amount', format: 'javascript' },
  preVariables: [{ name: 'balance', type: 'Int' }, { name: 'amount', type: 'Int' }],
  postVariables: [{ name: 'balance_new', type: 'Int' }],
  transition: 'balance_new == balance - amount',
});
```

### EARSâ†’SMTå¤‰æ›

```typescript
import { EarsToSmtConverter } from '@nahisaho/musubix-formal-verify';

const converter = new EarsToSmtConverter();

// EARSè¦ä»¶ã‚’SMT-LIB2ã«å¤‰æ›
const results = converter.convertMultiple([
  'THE system SHALL validate inputs',           // ubiquitous
  'WHEN error, THE system SHALL notify user',   // event-driven
  'WHILE busy, THE system SHALL queue requests', // state-driven
  'THE system SHALL NOT expose secrets',        // unwanted
  'IF admin, THEN THE system SHALL allow edit', // optional
]);

results.forEach(r => {
  console.log(`ãƒ‘ã‚¿ãƒ¼ãƒ³: ${r.formula?.metadata.earsPattern.type}`);
  console.log(`SMT: ${r.formula?.smtLib2}`);
});
```

### ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

```typescript
import { TraceabilityDB, ImpactAnalyzer } from '@nahisaho/musubix-formal-verify';

// SQLiteãƒ™ãƒ¼ã‚¹ã®ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£DBä½œæˆ
const db = new TraceabilityDB('./trace.db');

// ãƒãƒ¼ãƒ‰è¿½åŠ 
await db.addNode({ id: 'REQ-001', type: 'requirement', title: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼' });
await db.addNode({ id: 'DES-001', type: 'design', title: 'AuthService' });
await db.addNode({ id: 'CODE-001', type: 'code', title: 'auth.ts' });

// ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãƒªãƒ³ã‚¯è¿½åŠ 
await db.addLink({ source: 'DES-001', target: 'REQ-001', type: 'satisfies' });
await db.addLink({ source: 'CODE-001', target: 'DES-001', type: 'implements' });

// å½±éŸ¿åˆ†æ
const analyzer = new ImpactAnalyzer(db);
const impact = await analyzer.analyze('REQ-001');
console.log(`å½±éŸ¿ãƒãƒ¼ãƒ‰æ•°: ${impact.totalImpacted}`);
```

### v1.7.5 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¦‚è¦

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | èª¬æ˜ |
|-----------|------|
| `@nahisaho/musubix-formal-verify` | Z3çµ±åˆã€Hoareæ¤œè¨¼ã€EARSâ†’SMTã€ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£DB |

### ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹å¤‰æ•°å‹

| å‹ | èª¬æ˜ |
|----|------|
| `Int` | æ•´æ•°å€¤ |
| `Real` | å®Ÿæ•° |
| `Bool` | çœŸå½å€¤ |
| `String` | æ–‡å­—åˆ— |
| `Array` | é…åˆ—å‹ |
| `BitVec` | ãƒ“ãƒƒãƒˆãƒ™ã‚¯ãƒˆãƒ« |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ

*(v1.8.0)*

`@nahisaho/musubix-security` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€TypeScript/JavaScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‘ã‘ã®åŒ…æ‹¬çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†ææ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @nahisaho/musubix-security
```

### è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³

ASTè§£æã«ã‚ˆã‚ŠOWASP Top 10ãŠã‚ˆã³CWE Top 25ã®è„†å¼±æ€§ã‚’æ¤œå‡ºã—ã¾ã™ï¼š

```typescript
import { VulnerabilityScanner, createSecurityService } from '@nahisaho/musubix-security';

// å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ã‚­ãƒ£ãƒ³
const scanner = new VulnerabilityScanner();
const vulnerabilities = scanner.scanFile('src/api.ts');

// ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚¹ã‚­ãƒ£ãƒ³
const result = await scanner.scanDirectory('./src');
console.log(`æ¤œå‡ºã•ã‚ŒãŸè„†å¼±æ€§: ${result.vulnerabilities.length}`);
console.log(`ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«: ${result.scannedFiles}`);
```

### æ¤œå‡ºå¯èƒ½ãªè„†å¼±æ€§

| ã‚«ãƒ†ã‚´ãƒª | CWE | é‡è¦åº¦ |
|---------|-----|--------|
| SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | CWE-89 | Critical |
| ã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | CWE-78 | Critical |
| XSS | CWE-79 | High |
| ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ« | CWE-22 | High |
| ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | CWE-94 | Critical |
| NoSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | CWE-943 | High |

### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡º

ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸèªè¨¼æƒ…å ±ã‚„æ©Ÿå¯†æƒ…å ±ã‚’æ¤œå‡ºã—ã¾ã™ï¼š

```typescript
import { SecretDetector } from '@nahisaho/musubix-security';

const detector = new SecretDetector();
const secrets = detector.scanContent(content, 'config.ts');
const result = await detector.scan('./src');

console.log(`æ¤œå‡ºã•ã‚ŒãŸã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: ${result.summary.total}`);
```

### æ¤œå‡ºå¯èƒ½ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¿ã‚¤ãƒ—

| ã‚¿ã‚¤ãƒ— | ãƒ‘ã‚¿ãƒ¼ãƒ³ |
|--------|--------|
| AWS Access Key | `AKIA...` |
| AWS Secret Key | 40æ–‡å­—ã®base64 |
| GitHub Token | `ghp_*`, `gho_*`, `ghu_*` |
| ç§˜å¯†éµ | PEMå½¢å¼ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URL | `postgres://`, `mongodb://` |
| JWTã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ | JWTç½²åã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ |
| Stripe Key | `sk_live_*`, `sk_test_*` |

### ãƒ†ã‚¤ãƒ³ãƒˆè§£æ

ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ï¼ˆã‚½ãƒ¼ã‚¹ï¼‰ã‹ã‚‰å±é™ºãªé–¢æ•°ï¼ˆã‚·ãƒ³ã‚¯ï¼‰ã¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’è¿½è·¡ã—ã¾ã™ï¼š

```typescript
import { TaintAnalyzer } from '@nahisaho/musubix-security';

const analyzer = new TaintAnalyzer();
const result = analyzer.analyze('./src');

console.log(`ã‚½ãƒ¼ã‚¹: ${result.sources.length}`);
console.log(`ã‚·ãƒ³ã‚¯: ${result.sinks.length}`);
console.log(`ãƒ†ã‚¤ãƒ³ãƒˆãƒ‘ã‚¹: ${result.paths.length}`);
```

### ä¾å­˜é–¢ä¿‚ç›£æŸ»

npm auditã¨çµ±åˆã—ã¦è„†å¼±ãªä¾å­˜é–¢ä¿‚ã‚’æ¤œå‡ºã—ã¾ã™ï¼š

```typescript
import { DependencyAuditor } from '@nahisaho/musubix-security';

const auditor = new DependencyAuditor();
const result = await auditor.audit('./project');

console.log(`Critical: ${result.summary.critical}`);
console.log(`High: ${result.summary.high}`);
```

### çµ±åˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹

ã™ã¹ã¦ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†ææ©Ÿèƒ½ã‚’çµ±åˆï¼š

```typescript
import { createSecurityService } from '@nahisaho/musubix-security';

const service = createSecurityService();

// ãƒ•ãƒ«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
const result = await service.scan({
  target: './src',
  vulnerabilities: true,
  taint: true,
  secrets: true,
  dependencies: true,
  generateFixes: true,
});

console.log(`ç·è„†å¼±æ€§æ•°: ${result.summary.totalVulnerabilities}`);
console.log(`ç·ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ•°: ${result.summary.totalSecrets}`);
console.log(`ç”Ÿæˆã•ã‚ŒãŸä¿®æ­£: ${result.summary.fixesGenerated}`);
```

### ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

è¤‡æ•°ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼š

```typescript
// SARIFå½¢å¼ï¼ˆGitHub Code Scanningå¯¾å¿œï¼‰
const sarifReport = await service.generateReport(result, 'sarif');

// Markdownå½¢å¼
const mdReport = await service.generateReport(result, 'markdown');

// HTMLå½¢å¼
const htmlReport = await service.generateReport(result, 'html');
```

### CLIã®ä½¿ã„æ–¹

```bash
# ãƒ•ãƒ«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
npx musubix-security scan ./src

# è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã®ã¿
npx musubix-security scan ./src --vulnerabilities-only

# ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡º
npx musubix-security secrets ./src

# ãƒ†ã‚¤ãƒ³ãƒˆè§£æ
npx musubix-security taint ./src

# ä¾å­˜é–¢ä¿‚ç›£æŸ»
npx musubix-security audit ./project

# SARIFãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npx musubix-security scan ./src --format sarif --output report.sarif
```

### v1.8.0 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¦‚è¦

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | èª¬æ˜ |
|-----------|------|
| `@nahisaho/musubix-security` | è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡ºã€ãƒ†ã‚¤ãƒ³ãƒˆè§£æã€ä¾å­˜é–¢ä¿‚ç›£æŸ» |

---

## MCPã‚µãƒ¼ãƒãƒ¼é€£æº

### MCPã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

#### CLI ã‹ã‚‰èµ·å‹•

```bash
# stdio ãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¨å¥¨ï¼‰
musubix-mcp
npx @nahisaho/musubix-mcp-server

# SSE ãƒ¢ãƒ¼ãƒ‰
musubix-mcp --transport sse --port 8080
```

#### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰èµ·å‹•

```typescript
import { startServer, createMCPServer } from '@nahisaho/musubix-mcp-server';

// ç°¡æ˜“èµ·å‹•
await startServer({ transport: 'stdio' });

// ã‚«ã‚¹ã‚¿ãƒ è¨­å®š
const server = createMCPServer({
  name: 'my-musubix-server',
  version: '1.0.0',
  transport: 'stdio'
});

await server.start();
console.log('MCPã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã—ãŸ');
```

### GitHub Copilot (VS Code) ã¨ã®é€£æº

`.vscode/mcp.json`:

```json
{
  "mcpServers": {
    "musubix": {
      "command": "npx",
      "args": ["@nahisaho/musubix-mcp-server"]
    },
    "yata": {
      "command": "uv",
      "args": ["run", "yata", "serve"],
      "cwd": "/path/to/YATA"
    }
  }
}
```

### Claude Desktop ã¨ã®é€£æº

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ï¼š
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
- **Linux**: `~/.config/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "musubix": {
      "command": "npx",
      "args": ["@nahisaho/musubix-mcp-server"]
    },
    "yata": {
      "command": "uv",
      "args": ["run", "yata", "serve"],
      "cwd": "/path/to/YATA"
    }
  }
}
```

### Cursor IDE ã¨ã®é€£æº

`.cursor/mcp.json`:

```json
{
  "mcpServers": {
    "musubix": {
      "command": "npx",
      "args": ["@nahisaho/musubix-mcp-server"]
    }
  }
}
```

### ãƒ„ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—

```typescript
// MCPçµŒç”±ã§ã®ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—ä¾‹
const response = await client.callTool({
  tool: 'analyze_requirements',
  arguments: {
    text: 'ã‚·ã‚¹ãƒ†ãƒ ã¯...',
    options: { validateEARS: true }
  }
});
```

---

## YATAçŸ¥è­˜ã‚°ãƒ©ãƒ•

### YATAã¨ã¯ï¼Ÿ

YATAï¼ˆå…«å’«ï¼‰ã¯ã€AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¯æ´ã®ãŸã‚ã®çŸ¥è­˜ã‚°ãƒ©ãƒ•MCPã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚MUSUBIXã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒ‹ãƒ¥ãƒ¼ãƒ­ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯AIæ©Ÿèƒ½ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **ã‚³ãƒ¼ãƒ‰è§£æ** | Tree-sitterã«ã‚ˆã‚‹24è¨€èªå¯¾å¿œASTè§£æ |
| **çŸ¥è­˜ã‚°ãƒ©ãƒ•** | NetworkXã«ã‚ˆã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»é–¢ä¿‚æ€§ã‚°ãƒ©ãƒ• |
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çŸ¥è­˜** | 47ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€457K+ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ |
| **MCPå¯¾å¿œ** | 34 Tools, 3 Prompts, 1 Resource |

### YATAã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
# YATAãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /path/to/YATA

# stdio ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
uv run yata serve

# SSE ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
uv run yata serve --transport sse --port 8080
```

### YATAã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®š

```typescript
import { createYATAClient } from '@nahisaho/musubix-yata-client';

const yata = createYATAClient({
  transport: 'stdio',  // ã¾ãŸã¯ { type: 'sse', endpoint: 'http://localhost:8080' }
});

await yata.connect();
```

### çŸ¥è­˜ã®ã‚¯ã‚¨ãƒª

```typescript
// è¦ä»¶ã®æ¤œç´¢
const requirements = await yata.query({
  type: 'requirement',
  filters: {
    priority: 'must',
    status: 'approved'
  }
});

// é–¢é€£ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å–å¾—
const related = await yata.getRelated({
  entityId: 'REQ-001',
  relationTypes: ['implements', 'depends_on']
});
```

### çŸ¥è­˜ã®ä¿å­˜

```typescript
// æ–°ã—ã„è¦ä»¶ã‚’ä¿å­˜
await yata.store({
  type: 'requirement',
  data: requirement,
  relations: [
    { type: 'part_of', target: 'EPIC-001' }
  ]
});

// ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–“ã®ãƒªãƒ³ã‚¯
await yata.link({
  source: 'TSK-001',
  target: 'REQ-001',
  type: 'implements'
});
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. è¦ä»¶å®šç¾©ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

âœ… **æ¨å¥¨**:
- EARSå½¢å¼ã‚’ä½¿ç”¨ã™ã‚‹
- æ¤œè¨¼å¯èƒ½ãªå—ã‘å…¥ã‚ŒåŸºæº–ã‚’å«ã‚ã‚‹
- 1ã¤ã®è¦ä»¶ã«1ã¤ã®æ©Ÿèƒ½

âŒ **é¿ã‘ã‚‹ã¹ã**:
- æ›–æ˜§ãªè¡¨ç¾ï¼ˆã€Œé©åˆ‡ã«ã€ã€Œè¿…é€Ÿã«ã€ãªã©ï¼‰
- è¤‡æ•°ã®æ©Ÿèƒ½ã‚’1ã¤ã®è¦ä»¶ã«å«ã‚ã‚‹
- å®Ÿè£…è©³ç´°ã‚’è¦ä»¶ã«å«ã‚ã‚‹

### 2. è¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

âœ… **æ¨å¥¨**:
- C4ã®4ãƒ¬ãƒ™ãƒ«ã‚’æ´»ç”¨
- é‡è¦ãªæ±ºå®šã¯ADRã§è¨˜éŒ²
- è¦ä»¶ã¨ã®ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã‚’ç¶­æŒ

âŒ **é¿ã‘ã‚‹ã¹ã**:
- è©³ç´°ã™ãã‚‹æœ€åˆã®è¨­è¨ˆ
- æ±ºå®šç†ç”±ã®çœç•¥
- å­¤ç«‹ã—ãŸè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### 3. ã‚¿ã‚¹ã‚¯ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

âœ… **æ¨å¥¨**:
- 4æ™‚é–“ä»¥å†…ã®ç²’åº¦
- è¦ä»¶ã¸ã®æ˜ç¢ºãªãƒªãƒ³ã‚¯
- å®Œäº†æ¡ä»¶ã®æ˜è¨˜

âŒ **é¿ã‘ã‚‹ã¹ã**:
- å¤§ãã™ãã‚‹ã‚¿ã‚¹ã‚¯ï¼ˆ8æ™‚é–“è¶…ï¼‰
- è¦ä»¶ãƒªãƒ³ã‚¯ã®ãªã„ã‚¿ã‚¹ã‚¯
- æ›–æ˜§ãªå®Œäº†æ¡ä»¶

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### è¦ä»¶ã®æ¤œè¨¼ã‚¨ãƒ©ãƒ¼

```
ã‚¨ãƒ©ãƒ¼: EARSå½¢å¼ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ
```

**è§£æ±ºç­–**: è¦ä»¶ãƒ†ã‚­ã‚¹ãƒˆã«EARSãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å«ã‚ã¦ãã ã•ã„ã€‚

```typescript
// ä¿®æ­£å‰
const text = 'èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹';

// ä¿®æ­£å¾Œ
const text = 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã¨ãã€ã‚·ã‚¹ãƒ†ãƒ ã¯èªè¨¼ã‚’è¡Œã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„';
```

#### ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã®è­¦å‘Š

```
è­¦å‘Š: è¦ä»¶ REQ-001 ã«è¨­è¨ˆå‚ç…§ãŒã‚ã‚Šã¾ã›ã‚“
```

**è§£æ±ºç­–**: è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã€ãƒªãƒ³ã‚¯ã—ã¦ãã ã•ã„ã€‚

```typescript
requirementsService.linkDesign('REQ-001', 'DES-001');
```

#### MCPã‚µãƒ¼ãƒãƒ¼æ¥ç¶šã‚¨ãƒ©ãƒ¼

```
ã‚¨ãƒ©ãƒ¼: MCPã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“
```

**è§£æ±ºç­–**:
1. ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
2. ãƒãƒ¼ãƒˆç•ªå·ã‚’ç¢ºèª
3. ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª

```bash
# ã‚µãƒ¼ãƒãƒ¼ã®çŠ¶æ…‹ç¢ºèª
ps aux | grep musubix
```

#### YATAæ¥ç¶šã‚¨ãƒ©ãƒ¼

```
ã‚¨ãƒ©ãƒ¼: YATAã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«æ¥ç¶šã§ãã¾ã›ã‚“
```

**è§£æ±ºç­–**:
1. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã‚’ç¢ºèª
2. APIã‚­ãƒ¼ã‚’ç¢ºèª
3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’ç¢ºèª

```typescript
const client = createYATAClient({
  endpoint: 'http://localhost:8000',  // æ­£ã—ã„URL
  apiKey: process.env.YATA_API_KEY    // ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
});
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- ğŸ“š [APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](./API-REFERENCE.md)ã‚’å‚ç…§
- ğŸ’¡ [ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ](./examples/)ã‚’ç¢ºèª
- ğŸ¤ [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](./CONTRIBUTING.md)ã‚’èª­ã‚€

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [INSTALL-GUIDE.ja.md](INSTALL-GUIDE.ja.md) | è©³ç´°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰ |
| [API-REFERENCE.md](API-REFERENCE.md) | APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ |
| [evolution-from-musubi-to-musubix.md](evolution-from-musubi-to-musubix.md) | MUSUBIã‹ã‚‰ã®é€²åŒ– |

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.8.0  
**æœ€çµ‚æ›´æ–°**: 2026-01-06  
**MUSUBIX Project**
