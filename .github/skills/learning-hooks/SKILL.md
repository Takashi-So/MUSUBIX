---
name: learning-hooks
description: |
  ç¶™ç¶šçš„å­¦ç¿’ã‚¹ã‚­ãƒ«ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«å†åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•æŠ½å‡ºã—ã€
  å­¦ç¿’æ¸ˆã¿ã‚¹ã‚­ãƒ«ã¨ã—ã¦ä¿å­˜ã™ã‚‹ã€‚ã‚¨ãƒ©ãƒ¼è§£æ±ºãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ»å›é¿ç­–ãªã©ã‚’å­¦ç¿’ã™ã‚‹ã€‚
  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚æŠ½å‡ºã—ã¦æ¬¡å›ä»¥é™ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«æ´»ç”¨ã€‚
license: MIT
version: 1.0.0
author: MUSUBIX Team
tags:
  - learning
  - patterns
  - continuous-improvement
---

# Learning Hooks ã‚¹ã‚­ãƒ«

ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å†åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•æŠ½å‡ºã—ã€çŸ¥è­˜ã¨ã—ã¦è“„ç©ã—ã¾ã™ã€‚

## æ¦‚è¦

ã“ã®ã‚¹ã‚­ãƒ«ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

1. **Continuous Learning Evaluation** - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®ãƒ‘ã‚¿ãƒ¼ãƒ³è‡ªå‹•æŠ½å‡º
2. **Learned Skills Storage** - æŠ½å‡ºã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ°¸ç¶šåŒ–
3. **Pattern Ignore List** - ä¸è¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã®é™¤å¤–

---

## 1. Continuous Learning Evaluation (REQ-LH-001)

### è©•ä¾¡ãƒˆãƒªã‚¬ãƒ¼

ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«ã€ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã«ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡ºã‚’å®Ÿè¡Œï¼š

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ**10ä»¶ä»¥ä¸Š**å­˜åœ¨ã™ã‚‹
- ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ãŒ**15åˆ†ä»¥ä¸Š**

### æŠ½å‡ºå¯¾è±¡ãƒ‘ã‚¿ãƒ¼ãƒ³

| ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ— | èª¬æ˜ | ä¾‹ |
|---------------|------|-----|
| `error_resolution` | ã‚¨ãƒ©ãƒ¼è§£æ±ºãƒ‘ã‚¿ãƒ¼ãƒ³ | TypeScriptå‹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£æ–¹æ³• |
| `user_corrections` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¿®æ­£ãƒ‘ã‚¿ãƒ¼ãƒ³ | AIã®ææ¡ˆã‚’ä¿®æ­£ã—ãŸäº‹ä¾‹ |
| `workarounds` | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å›é¿ç­– | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ—¢çŸ¥ã®å•é¡Œã¸ã®å¯¾å‡¦ |
| `debugging_techniques` | ãƒ‡ãƒãƒƒã‚°æŠ€æ³• | ç‰¹å®šã®å•é¡Œã®èª¿æŸ»ãƒ»è§£æ±ºæ‰‹æ³• |
| `project_specific` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€å‘½åè¦å‰‡ç­‰ |

### æŠ½å‡ºåŸºæº–

ä»¥ä¸‹ã®ç‰¹å¾´ã‚’æŒã¤ä¼šè©±ã‚’æŠ½å‡ºå¯¾è±¡ã¨ã™ã‚‹ï¼š

1. **ã‚¨ãƒ©ãƒ¼â†’è§£æ±ºã®æµã‚Œ**:
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã‚‹
   - ä¿®æ­£ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚ŒãŸ
   - ãã®å¾Œã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚ŒãŸ

2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¿®æ­£**:
   - AIã®ææ¡ˆã«å¯¾ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¿®æ­£ã‚’æŒ‡ç¤º
   - ä¿®æ­£å¾Œã«æ‰¿èªã•ã‚ŒãŸ

3. **è¤‡æ•°è©¦è¡Œå¾Œã®æˆåŠŸ**:
   - åŒã˜å•é¡Œã«å¯¾ã—ã¦è¤‡æ•°ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è©¦è¡Œ
   - æœ€çµ‚çš„ã«æˆåŠŸã—ãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### æŠ½å‡ºãƒ•ãƒ­ãƒ¼

```
ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ¤œå‡º
    â†“
æ¡ä»¶ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° >= 10ï¼‰
    â†“
ä¼šè©±åˆ†æ
    â†“
ãƒ‘ã‚¿ãƒ¼ãƒ³å€™è£œæŠ½å‡º
    â†“
ä¿¡é ¼åº¦è¨ˆç®—
    â†“
é–¾å€¤ãƒã‚§ãƒƒã‚¯ï¼ˆä¿¡é ¼åº¦ >= 0.7ï¼‰
    â†“
ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿å­˜
```

---

## 2. Learned Skills Storage (REQ-LH-002)

### ä¿å­˜å…ˆ

```
~/.musubix/skills/learned/
â”œâ”€â”€ error-resolution-ts2322-fix/
â”‚   â””â”€â”€ SKILL.md
â”œâ”€â”€ workaround-vitest-esm/
â”‚   â””â”€â”€ SKILL.md
â””â”€â”€ project-specific-musubix-patterns/
    â””â”€â”€ SKILL.md
```

### ã‚¹ã‚­ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

```markdown
---
name: [pattern-name]
description: |
  [ãƒ‘ã‚¿ãƒ¼ãƒ³ã®èª¬æ˜]
extracted: [æŠ½å‡ºæ—¥]
confidence: [ä¿¡é ¼åº¦]
type: [ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—]
source_session: [ã‚»ãƒƒã‚·ãƒ§ãƒ³ID]
---

# [Descriptive Pattern Name]

**Extracted:** [Date]
**Confidence:** [0.0-1.0]
**Context:** [When this applies]

## Problem

[What problem this solves]

## Solution

[The pattern/technique/workaround]

## Example

\```typescript
// Code example if applicable
\```

## When to Use

[Trigger conditions]

## Related Patterns

- [Related pattern 1]
- [Related pattern 2]
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³å‘½åè¦å‰‡

`{type}-{short-description}`

ä¾‹:
- `error-resolution-ts2322-fix`
- `workaround-vitest-esm-import`
- `debugging-async-race-condition`
- `project-specific-musubix-value-object`

---

## 3. Pattern Ignore List (REQ-LH-003)

### é™¤å¤–å¯¾è±¡

ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æŠ½å‡ºå¯¾è±¡ã‹ã‚‰**é™¤å¤–**ï¼š

| é™¤å¤–ã‚«ãƒ†ã‚´ãƒª | ç†ç”± | ä¾‹ |
|------------|------|-----|
| å˜ç´”ãªã‚¿ã‚¤ãƒä¿®æ­£ | æ±ç”¨æ€§ãŒãªã„ | `funtion` â†’ `function` |
| ä¸€æ™‚çš„ãªå•é¡Œ | å†ç¾æ€§ãŒãªã„ | ä¸€æ™‚çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ |
| å¤–éƒ¨APIéšœå®³ | åˆ¶å¾¡ä¸èƒ½ | ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ€ã‚¦ãƒ³ |
| ç’°å¢ƒå›ºæœ‰ã®å•é¡Œ | ç§»æ¤æ€§ãŒãªã„ | ç‰¹å®šãƒã‚·ãƒ³ã®ãƒ‘ã‚¹å•é¡Œ |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ | æ©Ÿå¯†æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ | APIã‚­ãƒ¼ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰é–¢é€£ |

### é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œå‡ºãƒ«ãƒ¼ãƒ«

```typescript
const IGNORE_PATTERNS = [
  // ã‚¿ã‚¤ãƒä¿®æ­£
  /typo|spelling|misspell/i,
  
  // ä¸€æ™‚çš„ãªå•é¡Œ
  /timeout|connection refused|ECONNRESET/i,
  
  // ç’°å¢ƒå›ºæœ‰
  /ENOENT.*\/home\/|C:\\Users\\/i,
  
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£
  /api[_-]?key|password|secret|token|credential/i,
];
```

---

## ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡ºã®å®Ÿè¡Œ

### æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼

ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¤ºçš„ã«è¨˜éŒ²ã—ãŸã„å ´åˆï¼š

```markdown
ğŸ“ **ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨˜éŒ²**

ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’ã—ã¾ã—ãŸï¼š

**ã‚¿ã‚¤ãƒ—**: error_resolution
**å•é¡Œ**: [å•é¡Œã®èª¬æ˜]
**è§£æ±ºç­–**: [è§£æ±ºæ–¹æ³•]
**ä¿¡é ¼åº¦**: 0.85

ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ
```

### è‡ªå‹•æŠ½å‡ºãƒ¬ãƒãƒ¼ãƒˆ

ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«ä»¥ä¸‹ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼š

```markdown
ğŸ“Š **å­¦ç¿’ãƒ¬ãƒãƒ¼ãƒˆ**

**ã‚»ãƒƒã‚·ãƒ§ãƒ³**: 2026-01-25-14-30
**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°**: 45
**ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“**: 2æ™‚é–“30åˆ†

## æŠ½å‡ºã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³

1. **error-resolution-ts2322-type-mismatch** (ä¿¡é ¼åº¦: 0.92)
   - TypeScript TS2322ã‚¨ãƒ©ãƒ¼ã®è§£æ±ºãƒ‘ã‚¿ãƒ¼ãƒ³
   - å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ãªãå‹ã‚¬ãƒ¼ãƒ‰ã‚’ä½¿ç”¨

2. **workaround-vitest-mock-esm** (ä¿¡é ¼åº¦: 0.78)
   - Vitestã§ã®ãƒ¢ãƒƒã‚¯è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³
   - vi.mock()ã®æ­£ã—ã„é…ç½®

## ã‚¹ã‚­ãƒƒãƒ—ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³

- ã‚¿ã‚¤ãƒä¿®æ­£: 3ä»¶
- ä¸€æ™‚çš„ãªã‚¨ãƒ©ãƒ¼: 1ä»¶

ä¿å­˜ã‚’ç¶šè¡Œã—ã¾ã™ã‹ï¼Ÿ
```

---

## MCPãƒ„ãƒ¼ãƒ«çµ±åˆ

ã“ã®ã‚¹ã‚­ãƒ«ã¯ä»¥ä¸‹ã®MUSUBIX MCPãƒ„ãƒ¼ãƒ«ã¨é€£æºã—ã¾ã™ï¼š

### pattern-mcpé€£æº
- `pattern_store`: æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¿å­˜
- `pattern_query`: æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œç´¢
- `pattern_consolidate`: é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®çµ±åˆ

### knowledgeé€£æº
- `knowledge_put_entity`: ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä¿å­˜
- `knowledge_query`: é–¢é€£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œç´¢

### session-manageré€£æº
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
- å­¦ç¿’çµæœã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚µãƒãƒªãƒ¼ã¸ã®è¿½åŠ 

MCPãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã¯ã€ãã‚Œã‚‰ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---

## è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----------|------|
| `minMessages` | 10 | ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡ºã®æœ€å°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° |
| `minSessionMinutes` | 15 | ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡ºã®æœ€å°ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ |
| `confidenceThreshold` | 0.7 | ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿å­˜ã®ä¿¡é ¼åº¦é–¾å€¤ |
| `maxPatternsPerSession` | 5 | ã‚»ãƒƒã‚·ãƒ§ãƒ³å½“ãŸã‚Šã®æœ€å¤§ãƒ‘ã‚¿ãƒ¼ãƒ³æ•° |
| `enableAutoExtraction` | true | è‡ªå‹•æŠ½å‡ºã®æœ‰åŠ¹/ç„¡åŠ¹ |

---

## ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ§‹é€ 

```
~/.musubix/
â”œâ”€â”€ sessions/              # session-managerç®¡ç†
â”œâ”€â”€ skills/
â”‚   â””â”€â”€ learned/           # å­¦ç¿’æ¸ˆã¿ãƒ‘ã‚¿ãƒ¼ãƒ³
â”‚       â”œâ”€â”€ error-resolution-xxx/
â”‚       â”œâ”€â”€ workaround-yyy/
â”‚       â””â”€â”€ project-specific-zzz/
â””â”€â”€ learning/
    â”œâ”€â”€ extraction-log.json    # æŠ½å‡ºãƒ­ã‚°
    â””â”€â”€ ignore-patterns.json   # ã‚«ã‚¹ã‚¿ãƒ é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæŠ½å‡ºã•ã‚Œãªã„

1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ãŒ10ä»¶ä»¥ä¸Šã‚ã‚‹ã‹ç¢ºèª
2. ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ãŒ15åˆ†ä»¥ä¸Šã‚ã‚‹ã‹ç¢ºèª
3. é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ã«è©²å½“ã—ã¦ã„ãªã„ã‹ç¢ºèª

### èª¤ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæŠ½å‡ºã•ã‚Œã‚‹

1. é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒªã‚¹ãƒˆã«è¿½åŠ 
2. æ‰‹å‹•ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‰Šé™¤
3. ä¿¡é ¼åº¦é–¾å€¤ã‚’ä¸Šã’ã‚‹

### ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é‡è¤‡

pattern-mcpã®`pattern_consolidate`ã‚’ä½¿ç”¨ã—ã¦é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ±åˆã—ã¦ãã ã•ã„ã€‚

---

## é–¢é€£ã‚¹ã‚­ãƒ«

- **session-manager**: ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†
- **context-optimizer**: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæœ€é©åŒ–
- **verification-loop**: ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨ã®æ¤œè¨¼

---

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|-----------|------|----------|
| 1.0.0 | 2026-01-25 | åˆç‰ˆãƒªãƒªãƒ¼ã‚¹ |

---

## å‚è€ƒè³‡æ–™

- [REQ-LH-001ã€œ003](../../storage/specs/REQ-v3.7.0-everything-claude-code-integration.md)
- [DES-v3.7.0 Section 6](../../storage/design/DES-v3.7.0-everything-claude-code-integration.md)
- [Agent Skills Open Standard](https://github.com/agentskills/agentskills)
